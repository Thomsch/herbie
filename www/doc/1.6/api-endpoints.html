<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Herbie HTTP API Endpoints</title>
  <link rel='stylesheet' type='text/css' href='../../main.css'>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script type="text/javascript" src="toc.js"></script>
</head>
<body>
  <header>
    <a href="../../"><img class="logo" src="../../logo.png" /></a>
    <h1>HTTP API</h1>
  </header>

  <p><a href="../../">Herbie</a> offers an HTTP request API for running sub-commands. This page describes how to use this request API.</p>

  <h2 id="all-endpoints-info">Format for all endpoints</h2>

  <p>
    All the endpoints listed below respond to POST requests unless otherwise specified. A typical example of sending a POST request to a running Herbie server is:

      <pre class="shell">
curl -X POST -d \
  '{"formula": "(FPCore (x) (- (sqrt (+ x 1))))",\
    "seed": 5})}' \
  -H 'Content-Type: application/json' \
  http://127.0.0.1:8000/api/sample
      </pre>
  </p>

  <h2 id="sample">/api/sample</h2>

  <p>Call sample on an input like:
    <pre>
      {
        "formula": "(FPCore (x) (- (sqrt (+ x 1))))",
        "seed": 5
      }
    </pre>
    Output from that example, in an unordered array of pairs of the point and exact output calculated:
    <pre>
      {"points":[
        [[-2.666927774639112e-32],-1.0],
        [[6.455685974004423e+259],-8.034728355087322e+129],
        ... &lt;8000 points total&gt;
        ]}
    </pre>
  </p>

  <h2 id="analyze">/api/analyze</h2>
    <!--TODO-->
    Forthcoming.
  <h2 id="alternatives">/api/alternatives</h2>
    <!--TODO--> Forthcoming.
  <h2 id="local-error">/api/local-error</h2>
    <!--TODO--> Forthcoming.
</body>
</html>
